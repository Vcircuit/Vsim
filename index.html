<!Doctype html>
<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* {
  box-sizing: border-box;
}
body {
  font: 16px Arial;  
}
.start {
   position: relative;
  display: inline-block;
}
input {
  border: 1px solid transparent;
  background-color: #f1f1f1;
  padding: 10px;
  font-size: 16px;
}
input[type=text] {
  background-color: #f1f1f1;
  width: 100%;
}
input[type=submit] {
  background-color: DodgerBlue;
  color: #fff;
  cursor: pointer;
}
.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}
.start-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff; 
  border-bottom: 1px solid #d4d4d4; 
}
.start-items div:hover {
  /*when hovering an item:*/
  background-color: #e9e9e9; 
}
.start-active {
  /*when navigating through the items using the arrow keys:*/
  background-color: DodgerBlue !important; 
  color: #ffffff; 
}
</style>
</head>     

<body>

<h2>Lets begin</h2>

<p>Start typing:</p>


<form start="off" action="/action_page.php">
  <div class="start" style="width:300px;">
    <input id="myInput" type="text" name="Experiment" placeholder="Example">
  </div>
  <input type="submit">
</form>

<script>
function start(inp, arr) {
  
  var currentFocus;
  
  inp.addEventListener("input", function(e) {
      var a, b, i, val = this.value;
      closeAllLists();
      if (!val) { return false;}
      currentFocus = -1;
      a = document.createElement("DIV");
      a.setAttribute("id", this.id + "start-list");
      a.setAttribute("class", "start-items");
      this.parentNode.appendChild(a);
      for (i = 0; i < arr.length; i++) {
        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
          b = document.createElement("DIV");
          
          b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
          b.innerHTML += arr[i].substr(val.length);
          
          b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
          
          b.addEventListener("click", function(e) {
             
              inp.value = this.getElementsByTagName("input")[0].value;
              
              closeAllLists();
          });
          a.appendChild(b);
        }
      }
  });
  
  inp.addEventListener("keydown", function(e) {
      var x = document.getElementById(this.id + "start-list");
      if (x) x = x.getElementsByTagName("div");
      if (e.keyCode == 40) {
       
        currentFocus++;
        
        addActive(x);
      } else if (e.keyCode == 38) { //up
       
        currentFocus--;
        
        addActive(x);
      } else if (e.keyCode == 13) {
        
        e.preventDefault();
        if (currentFocus > -1) {
          
          if (x) x[currentFocus].click();
        }
      }
  });
  function addActive(x) {
   
    if (!x) return false;
    
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = (x.length - 1);
    
    x[currentFocus].classList.add("start-active");
  }
  function removeActive(x) {
    
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("start-active");
    }
  }
  function closeAllLists(elmnt) {
   
    var x = document.getElementsByClassName("start-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }
    }
  }
 
  document.addEventListener("click", function (e) {
      closeAllLists(e.target);
      });
}


var examples = ["RC","RL","RLC"];


start(document.getElementById("myInput"), examples);
</script>
 <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="http://use.edgefonts.net/advent-pro:n2,n5,n7,n4,n1,n6,n3:all.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
    <script>
        var i;
        var num;
        var count = 0;
        var res = "";
        var R1;
        var R2;
        var Volts;
        if (annyang) {

            var commands = {
                'hello': function() {}

            }
        };

        annyang.addCallback('result', function(userSaid) {
            for (i = 0; i < 5; i++) { //res = Number.isNaN(userSaid[i]);
                if (count == 0) {
                    R1 = userSaid[i].replace(/^\D+|\D+$/g, "");
                    console.log(R1)
                    count = count + 1;
                    var test = document.getElementById("r1").innerHTML = R1;
                    document.getElementById("r1data").innerHTML = r1data.innerHTML += R1;

                }
                if (count > 0) {
                    count = 0;
                    break;
                }
            }
        });









        // Add our commands to annyang
        annyang.addCommands(commands);
        annyang.debug();
        // Start listening. You can call this here, or attach this call to an event, button, etc.
        annyang.start();
    </script>

    <title>
        VCircuitSim
    </title>
</head>

<body>
    <div class="w3-container w3-blue w3-center">
        <h1>
            VCircuitSim
        </h1>
    </div>
    <div style="padding-left: 100px;padding-top: 50px;">
        <p>
            Enter R1 =
        </p>

    </div>
    <div id=r1>
        <p>

        </p>
    </div>

    <div id="text" style="padding-top: 100px; padding-bottom: 50px;padding-left: 40%; padding-right: 20%">

        <pre>Netlist File
<h7 id=r1data>R1 1 2 </h7><h7>k</h7>		
C1 1 3 10Uf
V1 2 0 PWL(0.01 1 0.02 2 0.03 3 0.04 4) rser=0.1
Vout 2 0 1
in 2 3 4
.op
.end
</pre>

    </div>
    <div style="text-align: center">

        <button onclick="download()" style="text-align: center">Generate Netlist</button>

    </div>

    <script src="FileSaver.js"></script>
    <script>
        function download() {
            var data = document.getElementById("text").innerHTML;
            var textToSave = $(data).text();
            var blob = new Blob([textToSave], {
                type: "text/plain;charset=utf-8"
            });
            saveAs(blob, "Netlist.net");
        }
    </script>
    

</body>

</html>
